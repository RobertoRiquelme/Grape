name: CI

on:
  push:
  pull_request:

jobs:
  Xcode:
    strategy:
      matrix:
        env:
          - platform: macOS
            destination: "platform=macOS"
            action: test
    runs-on: macOS-latest
    env:
      ACTION: ${{ matrix.env.action }}
      DESTINATION: ${{ matrix.env.destination }}
    steps:
      - name: Checkout üõéÔ∏è
        uses: actions/checkout@v3
      - name: Setup Xcode version
        uses: maxim-lobanov/setup-xcode@v1.6.0
        with:
          xcode-version: 'latest-stable'
      - name: Xcode Version
        run: xcodebuild -version
      - name: Build and Test
        run: xcodebuild test -scheme Grape-Package -destination "$DESTINATION" | xcpretty
